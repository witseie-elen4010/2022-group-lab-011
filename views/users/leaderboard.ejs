<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Leaderboard</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="/styles.css" />
</head>

<body>

	<!-- Leaderboard container -->
	<div class="container">
		<div class="text-center my-4">
			<h1>Leaderboard</h1>
		</div>
		<div class="row justify-content-center my-4">
			<div class="col-lg-6 justify-content-center">

				<!-- Image card -->
				<div class="card mb-3">
					<div class="row">
						<div class="col-md-6">
							<img src="/assets/images/theme.jpg" class="img-fluid rounded-start" alt="Wordle World Party Image">
						</div>
						<div class="col-md-6 text-center my-auto">
							<div class="card-body">
								<h2 class="card-title">Wordle World Party</h2>
								<p class="card-text my-4">Check the leaderboard and rankings below:</p>
								<p class="card-text my-4">Note: If you have played a game before then you will find your row highlighted
									in red. </p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row justify-content-center ">
			<div class="col justify-content-center">
				<br>

				<!-- Dropdown menu -->
				<div class="dropdown text-center my-4 ">
					<button class="btn btn-dark dropdown-toggle btn-lg" type="button" id="dropdownMenuButton1"
						data-bs-toggle="dropdown" aria-expanded="false">
						Go To
					</button>
					<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
						<li><a class="dropdown-item" href="/home" type="home" id="home" name="home">Home</a></li>
						<li><a class="dropdown-item" href="/rules" type="rules" id="rules" name="rules">Rules</a></li>
						<li><a class="dropdown-item" href="/actions_log" type="actions_log" id="actions_log"
								name="actions_log">Actions Log</a></li>
						<li><a class="dropdown-item" href="/game_log" type="game_log" id="game_log" name="game_log">Games Log</a>
						</li>
						<li><a class="dropdown-item" href="/login" type="logout" id="logout" name="logout">Logout</a></li>
					</ul>
				</div>

				<!-- Leaderboard -->
				<div class="card">
					<h3 class="card-text text-center my-2">Leaderboard</h3>
					<p class="card-text text-center my-2">The stats of different users' games relating to the Solo Wordle Mode</p>
					<h6 class="card-text text-center my-2">The score is calculated when you finish the game. The quicker the guess
						the better. You get 1 point per attempt remaining on the board and then an additional point for successfully
						getting the word. Guess what! Get the word correctly on your first try and get 10 points. </h6>
					<table class="table">
						<thead class="text-center">
							<tr>
								<th>#</th>
								<th>User #</th>
								<th>Username</th>
								<th>Games Played</th>
								<th>Total Score</th>
								<th>Average Score</th>
							</tr>
						</thead>
						<tbody class="text-center">
							<% for (let row=0; row < data_l.stats.length; row++){%>
								<tr>
									<%if (data_l.stats[row][1]===id) {%>
										<%data_l.stats[row].forEach((stats)=>{%>
											<td class="myRow">
												<%=stats%>
											</td>
											<%})%>
												<%} else {%>
													<%data_l.stats[row].forEach((stats)=>{%>
														<td>
															<%=stats%>
														</td>
														<%});%>
															<%}%>
								</tr>
								<%};%>
						</tbody>
					</table>
				</div>

				<!-- Multiplayer ranking -->
				<div class="card my-4">
					<h3 class="card-text text-center my-2">Multiplayer Ranking</h3>
					<p class="card-text text-center my-2">The stats of different users' games relating to the Multiplayer Wordle
						Mode</p>
					<h6 class="card-text text-center my-2">Who is the best player? For every multiplayer match that you win, your
						win ratio will improve. Lose though, and your win ratio will decrease! </h6>
					<p class="card-text text-center mvp my-2">Current Best Player:
					<h4 class="text-center">
						<%=locals.best.stats%>
					</h4>
					</p>
					<table class="table">
						<thead class="text-center">
							<tr>
								<th>#</th>
								<th>User #</th>
								<th>Username</th>
								<th>Matches Played</th>
								<th>Total Wins</th>
								<th>Win %</th>
							</tr>
						</thead>
						<tbody class="text-center">
							<% for (let row=0; row < data_r.stats.length; row++){%>
								<tr>
									<%if (data_r.stats[row][1]===id) {%>
										<%data_r.stats[row].forEach((stats)=>{%>
											<td class="myRow">
												<%=stats%>
											</td>
											<%})%>
												<%} else {%>
													<%data_r.stats[row].forEach((stats)=>{%>
														<td>
															<%=stats%>
														</td>
														<%});%>
															<%}%>
								</tr>
								<%};%>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
		crossorigin="anonymous"></script>
</body>

</html>